@using LinhKienDienTu.Web.Startup
@{
    ViewBag.CurrentPageName = PageNames.About;
    ViewBag.Title = "Trang chủ";
}
<!-- Slider -->
<div id="slider" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#slider" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#slider" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#slider" data-bs-slide-to="2" aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="~/assets/img/slider_1.jpg" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item">
            <img src="~/assets/img/slider_2.jpg" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item">
            <img src="~/assets/img/slider_3.jpg" class="d-block w-100" alt="...">
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#slider" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#slider" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>
<!-- end slider -->
<!-- banner -->
<div class="banner mt-5">
    <div class="container-md">
        <div class="row">
            <div class="col-md-7 col-12 col-sm-12">
                <div class="row">
                    <div class="col-md-12 bn-top">
                        <a class="url" href="./chuyen-muc-san-pham.html?danhsach=mach-cong-suat-lon-hang-cong-ty">
                            <img class="img-fluid" src="https://bizweb.dktcdn.net/100/184/656/themes/821115/assets/banner_1.jpg?1658221078379" alt="">
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-md-5 col-12 col-sm-12">
                <div class="row">
                    <div class="col-md-12">
                        <a class="url" href="./chuyen-muc-san-pham.html?danhsach=mach-pre-tien-cong-suat">
                            <img class="img-fluid" src="https://bizweb.dktcdn.net/100/184/656/themes/821115/assets/banner_2.jpg?1658221078379" alt="">
                        </a>
                    </div>
                    <div class="col-md-12 mt-30px">
                        <a class="url" href="./chuyen-muc-san-pham.html?danhsach=mach-sub">
                            <img class="img-fluid" src="https://bizweb.dktcdn.net/100/184/656/themes/821115/assets/banner_3.jpg?1658221078379" alt="">
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- end banner -->



<!-- so-cong-suat -->
<div id="new-product" class="new-product mt-5">
    <div class="container-md">
        <div class="row">
            <div class="col ">
                <div class="border">
                    <span class="icon_tags d-inline-block bg-primary p-3 text-white">
                        <i class="fa fa-tags" aria-hidden="true"></i>
                    </span>
                    <h2 class="title text-uppercase d-inline-block ms-3">Sản phẩm mới</h2>
                </div>

                <div class="border-top-0 border">

                    <div class="row">
                        <div class="owl-carousel owl-theme new-product-item" id="new-product-item">

                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
<!-- end name -->

<div class="hot-product mt-5 pt-3">
    <div class="container-md">
        <div class="row">
            <div class="col-md-12">
                <div class="row">
                    <div class="col-lg-4 col-8">
                        <h2>
                            <a class="title text-decoration-none text-uppercase fs-5" data-bs-toggle="collapse"
                                href="#ls-mach-amply" role="button" aria-expanded="false" aria-controls="ls-mach-amply">
                                <i class="fa fa-list text-primary pe-3" aria-hidden="true"></i>Mạch Amply - Main
                            </a>
                        </h2>
                    </div>
                    <div class="col-lg-8 col-4 d-flex align-items-center justify-content-end">
                        <!-- <a class="" href="#"> -->
                        <div class="pull-right">

                            <i class="fa fa-bars text-primary ls-nav-icon fs-1" data-bs-toggle="collapse"
                                href="#ls-mach-amply" role="button" aria-expanded="false" aria-controls="ls-mach-amply"
                                aria-hidden="true"></i>
                            <ul id="ls-mach-amply" class="list-group ls-nav collapse" role="tablist">
                                <li class="list-group-item" role="presentation">
                                    <a class="url active" id="home-tab" data-bs-toggle="tab" href="#machtienCS"
                                        role="tab" aria-controls="home" aria-selected="true">
                                        Mạch PRE Tiền Công Suất
                                    </a>
                                </li>
                                <li class="list-group-item" role="presentation">
                                    <a class="url" id="profile-tab" data-bs-toggle="tab" href="#machCSLon" role="tab"
                                        aria-controls="profile" aria-selected="false">
                                        Mạch công suất lớn hàng công ty
                                    </a>
                                </li>
                                <li class="list-group-item" role="presentation">
                                    <a class="url" id="contact-tab" data-bs-toggle="tab" href="#machCSgiare" role="tab"
                                        aria-controls="contact" aria-selected="false">
                                        Mạch CS Âm Thanh Giá Rẻ
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <!-- </a> -->

                    </div>
                </div>
            </div>
            <div class="col-md-12">
                <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade show active" id="machtienCS" role="tabpanel" aria-labelledby="home-tab">
                        <div class="row" id="machtienCSItems">

                        </div>
                    </div>
                    <div class="tab-pane fade" id="machCSLon" role="tabpanel" aria-labelledby="profile-tab">
                        <div class="row" id="machCSLonItems">


                        </div>
                    </div>
                    <div class="tab-pane fade" id="machCSgiare" role="tabpanel" aria-labelledby="contact-tab">
                        <div class="row" id="machCSgiareItems">


                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- phần ads -->
    <div class="container-md mt-5">
        <div class="row">
            <div class="col-md-12">
                <img class="img-fluid" src="~/assets/img/banner_qc.jpg" alt="">
            </div>
        </div>
    </div>
<!-- end phần ads -->



<!-- so-cong-suat -->
<div id="new2-product" class="new-product mt-5">
    <div class="container-md">
        <div class="row">
            <div class="col ">
                <div class="border">
                    <span class="icon_tags d-inline-block bg-primary p-3 text-white">
                        <i class="fa fa-tags" aria-hidden="true"></i>
                    </span>
                    <h2 class="title text-uppercase d-inline-block ms-3">Sò công suất</h2>
                </div>

                <div class="border-top-0 border">

                    <div class="row">
                        <div class="owl-carousel owl-theme new-product-item" id="new-product-item2">

                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
<!-- end name -->


<!-- phần cam kết -->
    <div id="cam-ket" class="mt-5">
        <div class="container-md">
            <div class="row">
                <div class="col-md-12">
                    <div class="owl-carousel owl-theme">
                        <div class="item">
                            <div class="camket-n">
                                <span class="icon">
                                    <img class="img-fluid"
                                        src="https://bizweb.dktcdn.net/100/184/656/themes/821115/assets/srv_1.png?1623059007493"
                                        alt="">
                                </span>
                                <div class="camket-noidung">
                                    <span class="camket-tieude">
                                        Giao hàng miễn phí
                                    </span>
                                    <span class="camket-nd">
                                        Áp dụng đơn hàng nào trên 500.000đ với hình thức chuyển khoản, và trọng lượng
                                        nhỏ hơn 500g
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="item">
                            <div class="camket-n">
                                <span class="icon">
                                    <img class="img-fluid"
                                        src="https://bizweb.dktcdn.net/100/184/656/themes/821115/assets/srv_2.png?1623059007493"
                                        alt="">
                                </span>
                                <div class="camket-noidung">
                                    <span class="camket-tieude">
                                        Sản phẩm chất lượng
                                    </span>
                                    <span class="camket-nd">
                                        Cam kết 100% hàng nhập khẩu chính hãng
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="item">
                            <div class="camket-n">
                                <span class="icon">
                                    <img class="img-fluid"
                                        src="https://bizweb.dktcdn.net/100/184/656/themes/821115/assets/srv_3.png?1623059007493"
                                        alt="">
                                </span>
                                <div class="camket-noidung">
                                    <span class="camket-tieude">
                                        Mua hàng giá ưu đãi
                                    </span>
                                    <span class="camket-nd">
                                        Cơ hội nhận khuyến mãi & giá sốc cuối tuần
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<!-- end cam kết -->
@section Scripts
    {
    <script>

            
            const newPrdElm = document.getElementById('new-product-item');
    const CSElm = document.getElementById('new-product-item2');

    const loadDataApiPrd = async () => {
        let dataCategories = await getDataAPI(`https://py.test/prdcate.php`);
        if (dataCategories == null) {
            alert('Sự cố kết nối đến api');
            return;
        }
        if (dataCategories) {
            dataCategories.forEach(element => {
                convertToItemNewPrd(element);
            });
            $('#new-product .owl-carousel').owlCarousel({
                // loop:true,
                margin: 0,
                nav: true,
                // items: 2,
                mouseDrag: true,
                touchDrag: true,
                pullDrag: true,
                dots: false,
                responsive: {
                    0: {
                        items: 1
                    },
                    400: {
                        items: 2
                    },
                    600: {
                        items: 3
                    },
                    1000: {
                        items: 4
                    }
                }
            });
        } else {
            alert(`Lỗi: ${dataCategories.message}`);
        }
    }

    const convertToItemNewPrd = (prd) => {
        const wrapper = document.createElement('div');
        wrapper.classList.add('item');
        wrapper.innerHTML = [
            `<div class="card h-100 product">

               <a href="${hostMVC}/Client/Products/Details/${prd.prdId}"
              title="#"
              class="product-url">
               <img src="${prd.prdImg}"
                    alt="${prd.prdName}">
           </a>
           <div class="card-body product-info">
               <h3 class="product-name text-truncate ">
                   <a class="text-decoration-none text-primary"
                          href="${hostMVC}/Client/Products/Details/${prd.prdId}"
                      title="${prd.prdName}">${prd.prdName}</a>
               </h3>
               <div class="product-price">
                   <span class="text-primary fw-bold">${prd.prdPrice}₫</span>
               </div>
               <div class="review">
                   <span class="active">
                       <i class="fa fa-star"
                          aria-hidden="true"></i>
                   </span>
                   <span class="active">
                       <i class="fa fa-star"
                          aria-hidden="true"></i>
                   </span>
                   <span class="active">
                       <i class="fa fa-star"
                          aria-hidden="true"></i>
                   </span>
                   <span class="active">
                       <i class="fa fa-star"
                          aria-hidden="true"></i>
                   </span>
                   <span class="active">
                       <i class="fa fa-star" aria-hidden="true"></i>
                       <small class="text-secondary">(9 đánh giá)</small>
                   </span>
               </div>
           </div>
       </div>`
        ].join('');
        newPrdElm.appendChild(wrapper);

    }
    const convertToItemCS = (prd) => {
        const wrapper = document.createElement('div');
        wrapper.classList.add('item');
        wrapper.innerHTML = [
            `<div class="card h-100 product">

               <a href="${hostMVC}/Client/Products/Details/${prd.prdId}"
              title="#"
              class="product-url">
               <img src="${prd.prdImg}"
                    alt="${prd.prdName}">
           </a>
           <div class="card-body product-info">
               <h3 class="product-name text-truncate ">
                   <a class="text-decoration-none text-primary"
                          href="${hostMVC}/Client/Products/Details/${prd.prdId}"
                      title="${prd.prdName}">${prd.prdName}</a>
               </h3>
               <div class="product-price">
                   <span class="text-primary fw-bold">${prd.prdPrice}₫</span>
               </div>
               <div class="review">
                   <span class="active">
                       <i class="fa fa-star"
                          aria-hidden="true"></i>
                   </span>
                   <span class="active">
                       <i class="fa fa-star"
                          aria-hidden="true"></i>
                   </span>
                   <span class="active">
                       <i class="fa fa-star"
                          aria-hidden="true"></i>
                   </span>
                   <span class="active">
                       <i class="fa fa-star"
                          aria-hidden="true"></i>
                   </span>
                   <span class="active">
                       <i class="fa fa-star" aria-hidden="true"></i>
                       <small class="text-secondary">(9 đánh giá)</small>
                   </span>
               </div>
           </div>
       </div>`
        ].join('');
        CSElm.appendChild(wrapper);

    }

    const convertToItemAudio = (prd, idElement) => {
        const wrapper = document.createElement('div');
        wrapper.classList.add('col-lg-3');
        wrapper.classList.add('col-md-4');
        wrapper.classList.add('col-sm-6');
        wrapper.classList.add('p-4');
        wrapper.classList.add('col-6');
        wrapper.innerHTML = [
            `<div class="row bg-white">
               <div class="col-sm-12">
                   <div class="product-thumnail">
                           <a class="product-url product-tab" href="${hostMVC}/Client/Products/Details/${prd.prdId}"
                           title="${prd.prdName}">
                           <img class="" src="${prd.prdImg}"
                               alt="${prd.prdName}">
                       </a>
                   </div>
               </div>
               <div class="col-sm-12">
                   <div class="product-info">
                       <h3 class="product-name text-truncate">
                           <a class="text-decoration-none text-primary"
                               href="${hostMVC}/Client/Products/Details/${prd.prdId}"
                               title="${prd.prdName}">${prd.prdName}</a>
                       </h3>
                       <div class="product-price">
                           <span class="text-primary fw-bold">${prd.prdPrice}₫</span>
                       </div>
                       <div class="review">
                           <span class="active">
                               <i class="fa fa-star" aria-hidden="true"></i>
                           </span>
                           <span class="active">
                               <i class="fa fa-star" aria-hidden="true"></i>
                           </span>
                           <span class="active">
                               <i class="fa fa-star" aria-hidden="true"></i>
                           </span>
                           <span class="active">
                               <i class="fa fa-star" aria-hidden="true"></i>
                           </span>
                           <span class="active">
                               <i class="fa fa-star" aria-hidden="true"></i>
                               <small class="text-secondary">(9 đánh giá)</small>
                           </span>
                       </div>
                   </div>
               </div>
           </div>`
        ].join('');
        document.getElementById(idElement).appendChild(wrapper);

    }


    const loadDataApiCS = async () => {
        let dataCategories = await getDataAPI(`https://py.test/prdcate.php?category=15`);
        if (dataCategories == null) {
            alert('Sự cố kết nối đến api');
            return;
        }
        if (dataCategories) {
            dataCategories.forEach(element => {
                convertToItemCS(element);
            });
            $('#new2-product .owl-carousel').owlCarousel({
                // loop:true,
                margin: 0,
                nav: true,
                // items: 2,
                mouseDrag: true,
                touchDrag: true,
                pullDrag: true,
                dots: false,
                responsive: {
                    0: {
                        items: 1
                    },
                    400: {
                        items: 2
                    },
                    600: {
                        items: 3
                    },
                    1000: {
                        items: 4
                    }
                }
            });
        } else {
            alert(`Lỗi: ${dataCategories.message}`);
        }
    }

    const loadDataApiHots = async (id, callback, idElement) => {
        let dataCategories = await getDataAPI(`https://py.test/prdcate.php?category=${id}`);
        if (dataCategories == null) {
            alert('Sự cố kết nối đến api');
            return;
        }
        if (dataCategories) {
            dataCategories.forEach(element => {
                callback(element, idElement);
            });
        } else {
            alert(`Lỗi: ${dataCategories.message}`);
        }
    }
    // await loadDataApiPrd();
    // await loadDataApiCS();
    // await loadDataApiHots(15, convertToItemAudio, 'machtienCSItems')
    // await loadDataApiHots(16, convertToItemAudio, 'machCSLonItems')
    // await loadDataApiHots(17, convertToItemAudio, 'machCSgiareItems')


    $(document).ready(async function () {
        await loadDataApiPrd();
        await loadDataApiCS();
        await loadDataApiHots(15, convertToItemAudio, 'machtienCSItems')
        await loadDataApiHots(16, convertToItemAudio, 'machCSLonItems')
        await loadDataApiHots(17, convertToItemAudio, 'machCSgiareItems')

        $('#cam-ket .owl-carousel').owlCarousel({
            // loop:true,
            margin: 0,
            // nav:true,
            // items: 2,
            mouseDrag: true,
            touchDrag: true,
            pullDrag: true,
            dots: false,
            responsive: {
                0: {
                    items: 1
                },
                400: {
                    items: 2
                },
                600: {
                    items: 2
                },
                1000: {
                    items: 3
                }
            }
        });
    });
    </script>
}